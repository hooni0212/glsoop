<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>회원가입 | 글숲</title>

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Nanum+Pen+Script&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;700&display=swap" rel="stylesheet">

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Custom CSS -->
  <link rel="stylesheet" href="../css/main.css">
</head>
<body>
  <!-- 헤더 -->
  <nav class="navbar navbar-expand-lg navbar-dark custom-navbar fixed-top nav-height">
    <div class="container">
      <a class="navbar-brand" href="/index.html">글숲</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarNav">
        <!-- 로그인 전 -->
        <ul class="navbar-nav ms-auto before-login">
          <li class="nav-item">
            <a class="nav-link" href="/html/login.html">로그인</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/html/signup.html">회원가입</a>
          </li>
        </ul>

        <!-- 로그인 후 -->
        <ul class="navbar-nav ms-auto after-login" style="display: none;">
          <li class="nav-item">
            <span class="nav-link" id="navUserName"></span>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/html/mypage.html">마이페이지</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/html/editor.html">글쓰기</a>
          </li>
          <li class="nav-item">
            <button class="btn btn-outline-light ms-2" id="logoutBtn" type="button">로그아웃</button>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- 회원가입 섹션 -->
  <section class="py-5 mt-5">
    <div class="container">
      <h2 class="text-center mb-4">회원가입</h2>

      <form id="signupForm" class="mx-auto" style="max-width: 420px;">

        <!-- ✅ 약관 / 개인정보 동의 영역 (제목 바로 아래로 이동) -->
        <div class="mb-4 p-3 border rounded bg-white">
          <!-- 전체 동의 -->
          <div class="form-check mb-2">
            <input class="form-check-input" type="checkbox" id="agreeAll">
            <label class="form-check-label fw-bold" for="agreeAll">
              전체 동의하기
            </label>
          </div>
          <hr class="my-2">

          <!-- 만 14세 이상 -->
          <div class="form-check mb-2">
            <input class="form-check-input agree-required" type="checkbox" id="agreeAge" required>
            <label class="form-check-label" for="agreeAge">
              [필수] 만 14세 이상입니다.
            </label>
          </div>

          <!-- 이용약관 동의 -->
          <div class="form-check mb-2">
            <input class="form-check-input agree-required" type="checkbox" id="agreeTerms" required>
            <label class="form-check-label" for="agreeTerms">
              [필수] 서비스 이용약관에 동의합니다.
              <a href="/html/terms.html" target="_blank" class="ms-1">약관 보기</a>
            </label>
          </div>

          <!-- 개인정보 수집·이용 동의 -->
          <div class="form-check mb-2">
            <input class="form-check-input agree-required" type="checkbox" id="agreePrivacy" required>
            <label class="form-check-label" for="agreePrivacy">
              [필수] 개인정보 수집 및 이용에 동의합니다.
              <a href="/html/privacy.html" target="_blank" class="ms-1">자세히</a>
            </label>
          </div>

          <!-- 마케팅 수신 동의 (선택) -->
          <div class="form-check mb-1">
            <input class="form-check-input agree-optional" type="checkbox" id="agreeMarketing">
            <label class="form-check-label" for="agreeMarketing">
              [선택] 이벤트/소식 등 이메일 수신에 동의합니다.
            </label>
          </div>

          <small class="text-muted d-block mt-2">
            필수 항목에 동의하지 않으시면 회원가입이 어렵습니다.
          </small>
        </div>

        <!-- 기본 정보 -->
        <div class="mb-3">
          <label class="form-label">이름</label>
          <input type="text" name="name" class="form-control" required>
        </div>

        <!-- 닉네임 입력 -->
        <div class="mb-3">
          <label class="form-label">닉네임</label>
          <input type="text" name="nickname" class="form-control" required>
        </div>

        <div class="mb-3">
          <label class="form-label">이메일</label>
          <input type="email" name="email" class="form-control" required>
        </div>

        <div class="mb-3">
          <label class="form-label">비밀번호</label>
          <input type="password" name="pw" class="form-control" required>
        </div>

        <button type="submit" class="btn btn-success w-100 mt-2">가입하기</button>
      </form>
    </div>
  </section>

  <!-- 글숲 푸터 -->
  <footer class="custom-footer">
    <div class="container py-4 py-md-5">
      <div class="row gy-3 align-items-center">
        <div class="col-md-4 text-center text-md-start">
          <div class="footer-brand">글숲</div>
          <p class="footer-subtitle">마음을 나누는 작은 숲</p>
        </div>

        <div class="col-md-4 text-center">
          <ul class="footer-links list-inline mb-0">
            <li class="list-inline-item"><a href="/index.html">홈</a></li>
            <li class="list-inline-item"><a href="/html/mypage.html">마이페이지</a></li>
            <li class="list-inline-item"><a href="/html/editor.html">글쓰기</a></li>
          </ul>
        </div>

        <div class="col-md-4 text-center text-md-end">
          <p class="footer-copy">&copy; 2025 글숲. All rights reserved.</p>
          <p class="footer-small">조용히 머물다 가는 공간을 함께 가꿔요.</p>
        </div>
      </div>
    </div>
  </footer>

  <!-- JS -->
  <script src="/js/utils.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script src="../js/header.js"></script>
  <script src="../js/signup.js"></script>

  <!-- 전체 동의 스크립트 -->
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      var agreeAll = document.getElementById('agreeAll');
      var requiredChecks = document.querySelectorAll('.agree-required');
      var optionalChecks = document.querySelectorAll('.agree-optional');

      if (!agreeAll) return;

      agreeAll.addEventListener('change', function () {
        var checked = agreeAll.checked;
        requiredChecks.forEach(function (chk) { chk.checked = checked; });
        optionalChecks.forEach(function (chk) { chk.checked = checked; });
      });

      function updateAgreeAll() {
        var allRequiredChecked = Array.from(requiredChecks).every(function (chk) { return chk.checked; });
        var allOptionalChecked = Array.from(optionalChecks).every(function (chk) { return chk.checked; }) || optionalChecks.length === 0;
        agreeAll.checked = allRequiredChecked && allOptionalChecked;
      }

      requiredChecks.forEach(function (chk) {
        chk.addEventListener('change', updateAgreeAll);
      });
      optionalChecks.forEach(function (chk) {
        chk.addEventListener('change', updateAgreeAll);
      });
    });
  </script>
</body>
</html>

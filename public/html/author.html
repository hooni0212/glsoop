<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>작가 페이지 | 글숲</title>

  <!-- Google Fonts -->
  <link
    href="https://fonts.googleapis.com/css2?family=Nanum+Pen+Script&display=swap"
    rel="stylesheet"
  />
  <link
    href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;700&display=swap"
    rel="stylesheet"
  />
  <link
    href="https://fonts.googleapis.com/css2?family=Nanum+Myeongjo:wght@400;700&display=swap"
    rel="stylesheet"
  />

  <!-- Bootstrap CSS -->
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
    rel="stylesheet"
  />

  <!-- Custom CSS -->
  <link rel="stylesheet" href="../css/main.css" />
  <link rel="stylesheet" href="../css/author.css" />
</head>
<body>
  <!-- 헤더 -->
  <nav class="navbar navbar-expand-lg navbar-dark custom-navbar fixed-top nav-height">
    <div class="container">
      <a class="navbar-brand" href="/index.html">글숲</a>
      <button
        class="navbar-toggler"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#navbarNav"
      >
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarNav">
        <!-- 로그인 전 -->
        <ul class="navbar-nav ms-auto before-login">
          <li class="nav-item">
            <a class="nav-link" href="/html/login.html">로그인</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/html/signup.html">회원가입</a>
          </li>
        </ul>

        <!-- 로그인 후 -->
        <ul class="navbar-nav ms-auto after-login" style="display: none;">
          <li class="nav-item">
            <span class="nav-link" id="navUserName"></span>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/html/mypage.html">마이페이지</a>
          </li>
          <li className="nav-item">
            <a class="nav-link" href="/html/editor.html">글쓰기</a>
          </li>
          <li class="nav-item">
            <button
              class="btn btn-outline-light ms-2"
              id="logoutBtn"
              type="button"
            >
              로그아웃
            </button>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- 본문 -->
  <section class="py-5 mt-5 author-page-section">
    <div class="container" style="max-width: 1100px;">
      <!-- 상단 타이틀 -->
      <div class="mb-4">
        <h2 id="authorPageTitle" class="mb-1">작가님의 글숲</h2>
        <p class="mb-0 text-muted small">
          이 작가가 남긴 글들과 공감 기록을 한 눈에 볼 수 있어요.
        </p>
      </div>

      <!-- 왼쪽 프로필 / 오른쪽 글 목록 -->
      <div class="row g-4 author-page-main-row">
        <!-- 왼쪽: 작가 카드 -->
        <div class="col-12 col-lg-4 author-left-col">
          <div class="card author-profile-card">
            <div class="card-body d-flex flex-column">
              <h5 class="card-title mb-3">작가 정보</h5>

              <!-- ✅ 닉네임만 노출 (실명 X) -->
              <p class="mb-1">
                <strong id="authorNicknameDisplay">닉네임</strong>
              </p>
              <p class="text-muted small mb-3" id="authorEmailDisplay">
                이메일: -
              </p>

              <hr />

              <dl class="mb-0 author-stats">
                <div class="d-flex justify-content-between mb-1">
                  <dt class="text-muted small mb-0">작성한 글 수</dt>
                  <dd class="mb-0" id="authorPostCount">0</dd>
                </div>
                <div class="d-flex justify-content-between">
                  <dt class="text-muted small mb-0">받은 공감 수</dt>
                  <dd class="mb-0" id="authorLikeCount">0</dd>
                </div>
              </dl>

              <p class="mt-3 text-muted small mb-0">
                홈 피드에서 이 작가의 카드를 눌러도<br />
                이 페이지로 다시 올 수 있어요.
              </p>
            </div>
          </div>
        </div>

        <!-- 오른쪽: 글 목록 -->
        <div class="col-12 col-lg-8">
          <div class="d-flex justify-content-between align-items-end mb-2">
            <h4 class="mb-0">이 작가의 글</h4>
            <p class="text-muted small mb-0 d-none d-md-block">
              아래로 스크롤하면 더 많은 글을 볼 수 있어요.
            </p>
          </div>

          <div class="card h-100 author-posts-card">
            <div class="card-body">
              <div id="authorPostsList"></div>

              <div
                id="authorPostsLoading"
                class="text-center text-muted small py-3"
                style="display: none;"
              >
                글을 불러오는 중입니다...
              </div>

              <div
                id="authorPostsEmpty"
                class="text-center text-muted small py-5"
                style="display: none;"
              >
                아직 이 작가가 남긴 글이 없습니다.
              </div>

              <div
                id="authorPostsEnd"
                class="text-center text-muted small py-3"
                style="display: none;"
              >
                마지막 글까지 다 보셨어요.
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ✅ 공통 느낌의 푸터 -->
  <footer class="site-footer mt-5 py-4">
    <div class="container text-center text-muted small">
      © 2025 글숲 · 오늘의 문장을 천천히 적어 내려가요.
    </div>
  </footer>

  <!-- JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script src="../js/header.js"></script>
  <script src="../js/author.js"></script>
</body>
</html>
